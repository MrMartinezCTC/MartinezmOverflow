<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= locals.title || 'Martinez Moverflow' %></title>
    <%- locals.extraStyle || '' %>
    <link rel="stylesheet" href="css/objects.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header-bar">
        <a href="/">
            <img src="images/Moverflow-v-1-0-0.png" alt="Moverflow logo">
        </a>
        <div class="search-box">
            <button>search</button>
            <span>(</span>
            <input type="search" name="questionSearch">
            <span>)</span>
        </div>
        <div class="account-btns">
            <%
                const userInfo = locals.user ? user : {};
            %>
            <% if (locals.user) { %>
                <!-- <button>Log Out</button> -->
                <button data-form_class="user-info" data-object_title="User Info"><%=`${user.firstName} ${user.lastName}`%></button>
            <% } else { %>
                <button data-form_class="" data-object_title="Sign Up">Sign Up</button>
                <button data-form_class="log-in" data-object_title="Log In">Log In</button>
            <% } %>
            <form class="account-pop-up object-block">
                <div>Sign Up</div>
                <div>
                    <div class="flex-row username-row">
                        <div class="object__prop-row">
                            <div class="object__prop-val">firstName</div>
                            <div>
                                <input id="firstName" type="text" value="<%= userInfo.firstName %>">
                            </div>
                        </div>
                        <div class="object__prop-row">
                            <div class="object__prop-val">lastName</div>
                            <div>
                                <input id="lastName" type="text" value="<%= userInfo.lastName %>">
                            </div>
                        </div>
                    </div>
                    <div class="object__prop-row">
                        <div class="object__prop-val">email</div>
                        <div>
                            <input id="email" type="email" value="<%= userInfo.email %>">
                        </div>
                    </div>
                    <div class="object-block change-pass user-info-child">
                        <div>changePass</div>
                        <div>
                            <div class="object__prop-row">
                                <div class="object__prop-val">currentPass</div>
                                <div>
                                    <input id="curPass" type="password" name="password">
                                </div>
                            </div>    
                            <div class="object__prop-row">
                                <div class="object__prop-val">newPass</div>
                                <div>
                                    <input id="newPass" type="password" name="newPassword">
                                </div>
                            </div>    
                            <div class="object__prop-row">
                                <div class="object__prop-val">confirmPass</div>
                                <div>
                                    <input id="conPass" type="password" name="confirmPassword">
                                </div>
                            </div>    
                        </div>
                    </div>
                    <div class="object__prop-row password-bar">
                        <div class="object__prop-val">password</div>
                        <div>
                            <input id="password" type="password">
                        </div>
                    </div>
                    <div class="flex-row" style="font-size: 0.9em;">
                        <div class="object__prop-row user-info-child">
                            <button class="object__prop-val object__btn" type="button" id="logOutBtn">Log Out</button>
                            <div class=""></div>
                        </div>
                        <div class="object__prop-row">
                            <button class="object__prop-val object__btn">Submit</button>
                            <div class=""></div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="object-block error-pop-up pop-up"></div>
    </div>
